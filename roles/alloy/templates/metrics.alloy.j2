// Node exporter
prometheus.exporter.unix "default" {
  enable_collectors = ["ethtool", "network_route", "processes", "systemd"]
}

// Scrape metrics from unix exporter
prometheus.scrape "default" {
  targets    = prometheus.exporter.unix.default.targets
  forward_to = [otelcol.receiver.prometheus.default.receiver]
}

// Send metrics to batch processor
otelcol.receiver.prometheus "default" {
  output {
    metrics = [otelcol.processor.batch.default.input]
  }
}
